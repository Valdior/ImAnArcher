{% extends 'base.html.twig' %}

{% block title %}Tournament - {{ tournament.organizer.acronym }}{% endblock %}

{% block body %}
    <div class="row p-4">
        <h1><span class='badge bg-{% if tournament.type.value == 1 %}primary{% else %}success{% endif %}'>{{ tournament.type.name }}</span> {{ tournament.organizer.acronym }} - {{ tournament.organizer.name }}</h1>
    </div>

    <div class='row'>
        <section class='col-6'>
            <h3>OÃ¹ et quand ?</h3>
            {{ include('layout/message.html.twig') }}
            {# {% if date(tournament.startDate) > date("now") or is_granted('ROLE_ADMIN') %} #}
            <ol class="list-group list-group-flush">
                {% for platoon in tournament.platoons %}
                {{ include('platoon/_show.html.twig') }}
                {% else %}
                <li class="list-group-item">no records found</li>
                {% endfor %}
            </ol>
            {# {% endif %} #}
        <section>
    </div>


    {% if date(tournament.endDate) < date("now") %}
    {# {{ render(controller('App\\Controller\\TournamentController::ranking', {'id': tournament.id})) }} #}
    {% endif %}

    <a href="{{ path('app_tournament_calendar') }}">back to list</a>
{% if is_granted('ROLE_ADMIN') %}
    <a href="{{ path('app_tournament_edit', {'id': tournament.id}) }}">edit</a>

    {{ include('tournament/_delete_form.html.twig') }}
{% endif %}
{% endblock %}